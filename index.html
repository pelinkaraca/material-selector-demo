<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Material / Labor Coding</title>
  <style>
    body {
      font-family: sans-serif;
      margin: 0;
      padding: 40px;
      background-color: #f7f7f7;
    }

    h2 {
      background-color: #f25c3e;
      color: white;
      padding: 12px 20px;
      margin: 0 0 20px 0;
      font-size: 24px;
    }

    .section-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      font-weight: bold;
      font-size: 18px;
      margin: 15px 0 10px;
    }

    input, select {
      width: 260px;
      padding: 8px;
      margin-top: 5px;
      border-radius: 8px;
      border: 1px solid #ccc;
      background-color: #FFE6CC;
    }

    .row {
      display: flex;
      gap: 20px;
      align-items: flex-end;
      flex-wrap: wrap;
      margin-bottom: 15px;
    }

    .form-group {
      display: flex;
      flex-direction: column;
    }

    .icon-button {
      font-size: 20px;
      width: 40px;
      height: 40px;
      padding: 0;
      background-color: #f25c3e;
      color: white;
      border: none;
      border-radius: 50%;
      cursor: pointer;
    }

    .icon-button.remove {
      background-color: #999;
    }
  </style>
</head>
<body>

  <h2>Material / Labor Coding</h2>

  <div class="section-header">
    <span>Material</span>
    <button class="icon-button" onclick="addScenario1MaterialRow()">+</button>
  </div>
  <div id="scenario1MaterialContainer"></div>

  <div class="section-header">
    <span>Non-Material Labour</span>
    <button class="icon-button" onclick="addScenario1NonMaterialRow()">+</button>
  </div>
  <div id="scenario1NonMaterialContainer"></div>

  <script>
    const materialLaborMap = {
      "1153 Washing Drum": "1153 Washing Drum",
      "14003 Shock Absorber": "14003 Shock Absorber",
      "11923 Repair Kit": "11923 Repair Kit",
      "18014 Front Body": "18014 Front Body",
      "16305 Heater Housing": "16305 Heater Housing",
      "1078 Body": "1078 Body",
      "1186 Pump Motor": "1186 Pump Motor",
      "14070 Power module–Programmed": "14070 Power module–Programmed",
      "2381 Gasket–Bellows Door":"2381 Gasket–Bellows Door",
      "1001 Closing Part": "Easy Level Services",
      "2218 Switch Component": "Easy Level Services",
      "1025 Panel": "Easy Level Services",
      "15034 Door Handle": "Medium Level Services",
      "18084 Drawer": "Medium Level Services",
      "18118 Control Board": "High Level Services",
      "14040 Door Hinge": "High Level Services"
    };

    const nonMaterialMap = {
      "994329 - Replacement of Washer Block Componenets": ["Replacement of Washer Block Componenets"],
      "994338 - Pump Cleaning": ["Pump Cleaning"],
      "994347 - Removal of Pump Blockage":["Removal of Pump Blockage"],
      "99357 - Removal of Foreign Object Between Drum and Tub": ["Removal of Foreign Object Between Drum and Tub"],
      "Easy Services": ["994452 - Installing A-Cool Door Panel"],
      "Medium Services": ["994446 - 906-Unsuitable Env. Conditions (Cold/Hot)"],
      "High Services": ["994439 - Fixing Cable Faults"]
    };

    function addScenario1MaterialRow() {
      const container = document.getElementById("scenario1MaterialContainer");
      const row = document.createElement("div");
      row.className = "row";

      const matGroup = document.createElement("div");
      matGroup.className = "form-group";
      matGroup.innerHTML = `<label>Material</label>
        <input list="materialOptions" placeholder="Select material">
        <datalist id="materialOptions">
          ${Object.keys(materialLaborMap).map(key => `<option value="${key}">`).join("")}
        </datalist>`;
      row.appendChild(matGroup);

      const labGroup = document.createElement("div");
      labGroup.className = "form-group";
      labGroup.innerHTML = `<label>Material Labour</label><input readonly>`;
      row.appendChild(labGroup);

      matGroup.querySelector("input").oninput = (e) => {
        const val = e.target.value;
        labGroup.querySelector("input").value = materialLaborMap[val] || "";
      };

      const removeBtn = document.createElement("button");
      removeBtn.className = "icon-button remove";
      removeBtn.innerText = "–";
      removeBtn.onclick = () => container.removeChild(row);
      row.appendChild(removeBtn);

      container.appendChild(row);
    }

    function addScenario1NonMaterialRow() {
      const container = document.getElementById("scenario1NonMaterialContainer");
      const row = document.createElement("div");
      row.className = "row";

      const groupBox = document.createElement("div");
      groupBox.className = "form-group";
      groupBox.innerHTML = `<label>Non-Material Labour Group</label>`;
      const groupSelect = document.createElement("select");
      groupSelect.innerHTML = `<option value="">Select group</option>` +
        Object.keys(nonMaterialMap).map(g => `<option value="${g}">${g}</option>`).join('');
      groupBox.appendChild(groupSelect);
      row.appendChild(groupBox);

      const resultBox = document.createElement("div");
      resultBox.className = "form-group";
      resultBox.innerHTML = `<label>Non-Material Labour</label><input placeholder="Select a group..." readonly>`;
      row.appendChild(resultBox);

      groupSelect.onchange = () => {
        const selected = groupSelect.value;
        const matches = nonMaterialMap[selected] || [];
        resultBox.innerHTML = `<label>Non-Material Labour</label>`;
        if (matches.length === 1) {
          const input = document.createElement("input");
          input.value = matches[0];
          input.readOnly = true;
          resultBox.appendChild(input);
        } else if (matches.length > 1) {
          const select = document.createElement("select");
          select.innerHTML = matches.map(m => `<option>${m}</option>`).join('');
          resultBox.appendChild(select);
        } else {
          const empty = document.createElement("input");
          empty.placeholder = "No match";
          empty.readOnly = true;
          resultBox.appendChild(empty);
        }
      };

      const removeBtn = document.createElement("button");
      removeBtn.className = "icon-button remove";
      removeBtn.innerText = "–";
      removeBtn.onclick = () => container.removeChild(row);
      row.appendChild(removeBtn);

      container.appendChild(row);
    }
  </script>
</body>
</html>

